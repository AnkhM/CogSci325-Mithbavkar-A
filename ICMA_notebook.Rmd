---
title: "D2SC ICMAs"
output: html_notebook
author: "Ankit Mithbavkar"
date: "`r Sys.Date()`"
---

This is an [R Markdown](http://rmarkdown.rstudio.com) Notebook. When you execute code within the notebook, the results appear beneath the code. 

Try executing this chunk by clicking the *Run* button within the chunk or by placing your cursor inside it and pressing *Ctrl+Shift+Enter*. 

# ICMA 09/04/2025

```{r}

```

```{r}
plot(cars)
```

```{r}
library(tidyverse)
library(dplyr)
library(palmerpenguins)
library(nycflights13)
library(ggplot2)
```


```{r}
ggplot(data = penguins,
       mapping = aes(x = flipper_length_mm, y = bill_length_mm)
) +
geom_point()
```


```{r}
view(penguins)
```

```{r}
PlantGrowth
```
```{r}
ggplot(data = PlantGrowth,
       mapping = aes(x = group, y = weight)
) + 
geom_point()
```

```{r}
glimpse(flights)
```
```{r}
flights |>
  filter(month == 1 & day == 1)

flights_houston <- flights |>
  filter(dest %in% c("IAH", "HOU"))
```

```{r}
flights |>
  arrange(year, month, desc(day), dep_time)
```
```{r}
flights |>
  distinct(origin, dest)
```
```{r}
flights |>
  filter(arr_delay > 120 & dep_delay <= 0) |>
  ggplot(aes(x = arr_delay, y = dep_delay)) +
  geom_point()
```
```{r}
flights |>
  mutate(speed = distance / air_time * 60,
         .after = distance) |>
  head()
```
```{r}
flights |>
  rename(dep_airport = origin,
         arr_airport = dest)
  select(year, month, day, contains("dep"))
  head()
  
flights |>
  select(!year:day)
  head()
```
```{r}
flights |>
  group_by(month) |>
  count()

flights |>
  group_by(month) |>
  summarize(avg_delay = mean(dep_delay))
```
```{r}
flights |>
  group_by(month) |>
  summarize(avg_arr_delay = mean(arr_delay, na.rm = TRUE),
          sd_arr_delay = sd(arr_delay, na.rm = TRUE),
          number_delayed = sum(arr_delay > 0, na.rm = TRUE),
          total = n(),
          percentage = number_delayed/total * 100
  ) |>
  ggplot(mapping = aes(x = month,
                       y = percentage))
```

## ICMA 9/23/2025

* Variables can't start with a number or include spaces or symbols
* Style we'll use is snake_case

```{r}
# backticks make this work
`1number` <- 12
print(`1number`)
```
```{r style-example, echo=TRUE}
library(nycflights13)
summary <- flights |>
  group_by(tailnum) |>
    summarize(avg_arr_delay = mean(arr_delay, na.rm=TRUE), num_flights = n())
summary
```
```{r}
#| label: style-example
#| echo: TRUE

library(nycflights13)
summary <- flights |>
  group_by(tailnum) |>
    summarize(avg_arr_delay = mean(arr_delay, na.rm=TRUE), num_flights = n())
summary
```

## ICMA 9/25/2025
```{r}
billboard_long <- billboard |>
  pivot_longer(cols = wk1:wk76,
               names_to = "week",
               values_to = "rank")
```

```{r}
billboard |>
  filter(artist == "2 Pac") |>
  select(wk10)
```


